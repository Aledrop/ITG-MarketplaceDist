"use strict";(self["webpackChunkmarket"]=self["webpackChunkmarket"]||[]).push([[464],{2440:function(e,t,a){a.d(t,{Z:function(){return u}});var r=a(3396),s=a(7139),l=a(9595),n=a(4870);const o={class:"flex items-center justify-between rounded-lg"};var i={__name:"BtnAddLess",props:{item:Object},emits:["updCart"],setup(e,{emit:t}){const a=e,i=(0,l.x)(),c=(0,n.iH)(!1),u=()=>{g(),i.addProduct(a.item),t("updCart")},d=()=>{g(),i.removeProduct(a.item),t("updCart")},g=()=>{c.value=!0,setTimeout((()=>{c.value=!1}),500)},m=(0,r.Fl)((()=>{const e=i.prods.find((e=>e.id===a.item.id));return e?e.count:0}));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("button",{class:"rounded-l-lg bg-gray-300 w-8",onClick:t[0]||(t[0]=e=>d())},"-"),(0,r._)("div",{class:(0,s.C_)(["w-8 text-gray-800",{"scale-150 transition-transform animate-spin":c.value}])},(0,s.zw)(m.value),3),(0,r._)("button",{class:"rounded-r-lg bg-gray-300 w-8",onClick:t[1]||(t[1]=e=>u())},"+")]))}};const c=i;var u=c},2639:function(e,t,a){a.d(t,{Z:function(){return _}});a(7658);var r=a(3396),s=a(7139),l=a(4870),n=a(2440),o=a(2483),i=a(9595);const c={class:"border border-gray-300 flex flex-col rounded-lg items-center w-60"},u={class:""},d={class:"flex items-center w-60 h-52 px-1 bg-cover overflow-hidden border-b border-gray-300"},g=["src"],m={class:"flex flex-col"},p={class:"block w-full py-2"},f={class:"flex w-full justify-end pr-8"},w={class:"text-sky-800 text-lg"},x={class:"flex px-2 gap-4 justify-between w-full"};var v={__name:"CardListTemplate",props:{item:Object},setup(e){const t=e,a=(0,o.tv)(),v=(0,i.x)(),y=()=>v.addProduct(t.item),_=()=>{a.push({name:"ProductDetail",params:{keyword:t.item.keyword}})},b=()=>{y(),a.push({name:"ShoppingCart"})};return(e,a)=>((0,r.wg)(),(0,r.iD)("section",c,[(0,r._)("article",u,[(0,r._)("figure",d,[(0,r._)("img",{src:t.item.src,alt:"",class:"bg-slate-400"},null,8,g)]),(0,r._)("figcaption",m,[(0,r._)("h4",{class:"text-gray-800 text-base my-2 hover:cursor-pointer",onClick:_},(0,s.zw)(t.item.alias),1)])]),(0,r._)("div",p,[(0,r._)("div",f,[(0,r._)("h4",w,"$"+(0,s.zw)(t.item.price),1)]),(0,r._)("div",x,[(0,r.Wm)((0,l.SU)(n.Z),{item:t.item},null,8,["item"]),(0,r._)("button",{class:"bg-amber-400 px-5 py-2 rounded-lg text-gray-800",onClick:a[0]||(a[0]=e=>b())},"Añadir")])])]))}};const y=v;var _=y},7028:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var r=a(3396),s=a(9242),l=a(7139),n=a(4870),o=a(355),i=a(1728),c=a(2639),u=a(2483),d=a(2740),g=a(2492),m=a.n(g);const p={class:"flex gap-5 flex-row"},f={class:"m-auto"},w=(0,r._)("img",{src:o,alt:"loading..."},null,-1),x=[w],v={class:"flex flex-col flex-1 gap-8"},y={class:"flex bg-red-500 m-auto p-20 rounded-lg"},_=["textContent"],b={key:0,class:"text-sky-800 text-2xl"},k={key:1,class:"flex flex-wrap gap-5 justify-items-center"},h={key:2,class:"flex mx-auto p-20"},C=(0,r._)("span",{class:"text-lg"},"No hay productos para esta búsqueda",-1),j=[C];var D={__name:"SearchResultView",setup(e){const t=(0,n.iH)(!0),a=(0,u.yj)(),o=(0,r.Fl)((()=>a.params.keyword)),g=(0,d.R)();let w=(0,n.iH)(!1),C=(0,n.iH)("Error al consultar los datos, por favor intente más tarde");(0,r.YP)(o,(()=>{t.value=!0,F()}));const D=(0,n.iH)([]),F=async()=>{try{if(D.value=await g.getSearch(),!D.value)throw w.value=!0,{msg:"Error en la búsqueda",error:D.value};t.value=!1}catch(w){return console.log(w),m().fire({title:"Error",text:"Error al cargar los datos",icon:"error",confirmButtonColor:"#3085d6"})}};return(0,r.wF)((async()=>{await F()})),(e,a)=>((0,r.wg)(),(0,r.j4)(i.Z,null,{default:(0,r.w5)((()=>[(0,r._)("section",p,[(0,r.wy)((0,r._)("figure",f,x,512),[[s.F8,t.value]]),(0,r.wy)((0,r._)("section",v,[(0,r.wy)((0,r._)("div",y,[(0,r._)("span",{class:"text-lg text-white",textContent:(0,l.zw)((0,n.SU)(C))},null,8,_)],512),[[s.F8,(0,n.SU)(w)]]),o.value?((0,r.wg)(),(0,r.iD)("h3",b,"Resultado de búsqueda para "+(0,l.zw)(o.value),1)):(0,r.kq)("",!0),D.value.length>0?((0,r.wg)(),(0,r.iD)("section",k,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(D.value,((e,t)=>((0,r.wg)(),(0,r.j4)(c.Z,{key:t,item:e,class:""},null,8,["item"])))),128))])):((0,r.wg)(),(0,r.iD)("section",h,j))],512),[[s.F8,!t.value]])])])),_:1}))}};const F=D;var H=F},355:function(e,t,a){e.exports=a.p+"img/loader.3599814a.svg"}}]);
//# sourceMappingURL=search.1ca787a9.js.map