"use strict";(self["webpackChunkmarket"]=self["webpackChunkmarket"]||[]).push([[486],{3582:function(t,e,l){l.d(e,{s:function(){return c}});l(7658),l(1703);var s=l(7176),n=l(6795),a=l(2483);const r=(0,n.t)(),o=(0,a.tv)(),c={async allByUser(){r.is_login||o.push({name:"Login"});let t={url:"/bookings/by-user",token:r.token};try{let e=await s.E.request(t);if(!e)throw{msg:"Error en la solicitud de las allByUser",error:e};return e}catch(e){let l=`Error ${e.response?.status}: ${e.response?.statusText}\nURL: ${t.url}\nResponse data: ${JSON.stringify(e.response?.data)}`;throw new Error(l)}},async create(t){r.token||r.getToken();let e={url:"/booking/create",token:r.token,method:"post",data:{data:t}};console.log(e);try{let t=await s.E.request(e);if(!t)throw{msg:"Error en la solicitud de las create",error:t};return t}catch(l){let t=`Error ${l.response?.status}: ${l.response?.statusText}\nURL: ${e.url}\nResponse data: ${JSON.stringify(l.response?.data)}`;throw new Error(t)}}}},2669:function(t,e,l){l.r(e),l.d(e,{default:function(){return M}});var s=l(3396),n=l(1728),a=l(7139),r=l(9242),o=l(4870);const c=t=>((0,s.dD)("data-v-267638b0"),t=t(),(0,s.Cn)(),t),i={class:"flex justify-between rounded-lg border border-gray-300 p-5 w-full"},u={class:"flex flex-col w-11/12 px-1"},x={class:"flex justify-between w-full"},d=["textContent"],f={class:"flex flex-col mb-2"},m=["textContent"],p={class:"flex justify-between w-full"},w=["textContent"],g=["textContent"],_={class:"flex flex-col items-start mt-5"},y=c((()=>(0,s._)("span",{class:"text-sm md:text-lg"},"Lista de productos",-1))),v=c((()=>(0,s._)("hr",{class:"w-full my-2",style:{}},null,-1))),k={class:"flex flex-col items-start w-full"},b=["textContent"],C=["textContent"],h=c((()=>(0,s._)("hr",{class:"flex-grow m-2"},null,-1))),$=["textContent"],E=c((()=>(0,s._)("hr",{class:"w-full my-2",style:{}},null,-1))),U={class:"flex flex-col items-end w-full"},z={class:"text-sm md:text-lg"},j=["textContent"],D=c((()=>(0,s._)("span",{class:"text-sm md:text-lg"},"TransportaciÃ³n - $20.00",-1))),T={class:"text-sm md:text-lg"},L=["textContent"],O={class:"flex flex-col border-l pl-3 justify-between"},B=c((()=>(0,s._)("i",{class:"fa fa-share"},null,-1)));var H={__name:"OrdersListTemplate",props:{item:Object},setup(t){const e=t;console.log(e.item);const l=(0,o.iH)(!1);return(e,n)=>((0,s.wg)(),(0,s.iD)("article",i,[(0,s._)("section",u,[(0,s._)("div",x,[(0,s._)("span",{class:"uppercase text-lg md:text-2xl text-gray-800",textContent:(0,a.zw)(t.item.booking_number)},null,8,d),(0,s._)("div",f,[(0,s._)("span",{class:"uppercase text-sm md:text-base text-gray-800",textContent:(0,a.zw)(t.item.creation_date)},null,8,m)])]),(0,s._)("section",p,[(0,s._)("span",{class:"uppercase text-xs md:text-base text-gray-800",textContent:(0,a.zw)(t.item.status.description)},null,8,w),(0,s._)("div",null,[(0,s.Uk)("$"),(0,s._)("span",{class:"uppercase text-lg md:text-2xl text-gray-800",textContent:(0,a.zw)(t.item.import+20)},null,8,g)])]),(0,s.wy)((0,s._)("section",_,[y,v,(0,s._)("ul",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.item.bk_items,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:"flex w-full justify-between items-center gap-5 py-2",key:e},[(0,s._)("div",null,[(0,s._)("span",{class:"text-sm md:text-base",textContent:(0,a.zw)(t.cant)},null,8,b),(0,s.Uk)("- "),(0,s._)("span",{class:"text-sm md:text-base",textContent:(0,a.zw)(t.item)},null,8,C)]),h,(0,s._)("div",null,[(0,s.Uk)("$"),(0,s._)("span",{textContent:(0,a.zw)(t.price)},null,8,$)])])))),128)),E]),(0,s._)("div",U,[(0,s._)("span",z,[(0,s.Uk)("Subtotal - $"),(0,s._)("span",{class:"text-sm md:text-lg",textContent:(0,a.zw)(t.item.import)},null,8,j)]),D,(0,s._)("span",T,[(0,s.Uk)("Total - $"),(0,s._)("span",{class:"text-sm md:text-lg",textContent:(0,a.zw)(t.item.import+20)},null,8,L)])])],512),[[r.F8,l.value]])]),(0,s._)("div",O,[B,(0,s._)("i",{class:(0,a.C_)(["flex h-full items-end",{"fa fa-chevron-down":!l.value,"fa fa-chevron-up":l.value}]),onClick:n[0]||(n[0]=t=>l.value=!l.value)},null,2)])]))}},R=l(89);const N=(0,R.Z)(H,[["__scopeId","data-v-267638b0"]]);var S=N,q=l(3582),F=l(2492),J=l.n(F);const K={key:0,class:"flex w-full gap-5"},Y=(0,s._)("div",{class:"flex m-auto"},"No hay pedidos",-1),Z=[Y],I={key:1,class:"flex w-full gap-5"},V={class:"flex flex-col gap-5 w-full"};var A={__name:"OrdersView",setup(t){const e=(0,o.iH)([]);return(0,s.wF)((async()=>{try{if(e.value=await q.s.allByUser(),!e.value)throw{msg:"Error en cargar el historial de ordenes"}}catch(t){return console.log(t),J().fire({title:"Error",text:"Error al cargar los datos de las ordenes",icon:"error",confirmButtonColor:"#3085d6"})}})),(t,l)=>((0,s.wg)(),(0,s.j4)(n.Z,null,{default:(0,s.w5)((()=>[0===!e.value.length?((0,s.wg)(),(0,s.iD)("div",K,Z)):((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.value,((t,e)=>((0,s.wg)(),(0,s.j4)(S,{key:e,item:t},null,8,["item"])))),128))])]))])),_:1}))}};const G=A;var M=G}}]);
//# sourceMappingURL=orders.a4896e5d.js.map