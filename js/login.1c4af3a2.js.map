{"version":3,"file":"js/login.1c4af3a2.js","mappings":"ygCA0EA,MAAMA,GAAYC,EAAAA,EAAAA,KAClB,IAAIC,GAAWC,EAAAA,EAAAA,KAAI,GAEnB,MAAMC,GAAYD,EAAAA,EAAAA,IAAI,CACpBE,SAAU,GACVC,SAAU,KAGNC,EAAcC,UAClB,IACE,IAAIC,EAAoBT,EAAUU,YAAYN,EAAUO,MAAML,UAC1DM,QAAcZ,EAAUY,MAAM,CAAEC,MAAOT,EAAUO,MAAMN,SAAUC,SAAUG,IAE/E,IAAGG,EAGD,OAAOE,IAAAA,KAAU,CACfC,MAAO,QACPC,KAAO,iCACPC,KAAM,QACNC,mBAAoB,YANtBC,EAAAA,EAAOC,KAAK,CAAEC,KAAM,aASxB,CAAE,MAAOC,GAEP,OADAC,QAAQC,IAAIF,GACLR,IAAAA,KAAU,CACbC,MAAO,QACPC,KAAO,yDACPC,KAAM,QACNC,mBAAoB,WAE1B,G,i8CCnGF,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://market/./src/views/auth/LoginView.vue","webpack://market/./src/views/auth/LoginView.vue?4511"],"sourcesContent":["<template>\r\n  <MainLayout>\r\n\r\n    <section class=\"flex flex-col md:flex-row w-full justify-between bg-white p-5 mb-4 gap-10\">\r\n\r\n      <figure class=\"w-full\">\r\n        <img src=\"http://via.placeholder.com/640x360\" alt=\"\">\r\n      </figure>\r\n\r\n      <div class=\"flex flex-col items-center justify-center w-full\">\r\n        \r\n        <div class=\"mb-5 w-full md:w-8/12\">\r\n          <h4>Login</h4>\r\n        </div>\r\n        <div class=\"mb-5 w-full md:w-8/12\">\r\n          <input class=\"input_form\"            \r\n            v-model=\"formLogin.username\"\r\n            type=\"text\"\r\n            placeholder=\"Nombre de usuario\">\r\n        </div>\r\n\r\n        <!-- type=\"password\" -->\r\n        <div class=\"relative mb-16 w-full md:w-8/12\">\r\n          <input class=\"input_form absolute\"\r\n            id=\"password\" \r\n            :type=\"(showpass) ? 'text' : 'password'\"\r\n            v-model=\"formLogin.password\"          \r\n            placeholder=\"Escriba la clave\">\r\n            <div class=\"absolute right-2 top-2 flex items-center gap-x-4\">                    \r\n                <button type=\"button\" @click=\"showpass=!showpass\" v-show=\"showpass\"><i class=\"fas fa-eye-slash\"></i></button>\r\n                <button type=\"button\" @click=\"showpass=!showpass\" v-show=\"!showpass\"><i class=\"fas fa-eye\"></i></button>                                          \r\n            </div>\r\n          <!-- <p class=\"text-red-600 text-xs italic\">Please choose a password.</p> -->\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-between mb-5 w-full md:w-8/12\">\r\n          <router-link :to=\"{name: 'ResetPassword'}\" class=\"inline-block align-baseline font-bold text-sm text-sky-800 hover:text-sky-800/80\">\r\n            Olvidé la contraseña?\r\n          </router-link>\r\n          \r\n          <button class=\"bg-sky-800 hover:bg-sky-800/80 text-white font-bold py-2 px-4 rounded\" type=\"button\" @click=\"sendRequest()\">\r\n            Enviar\r\n          </button>\r\n        </div>\r\n\r\n        <!-- OAuth -->\r\n        <!-- <div class=\"flex flex-col gap-3 items-center justify-between mb-5 w-full md:w-8/12\">\r\n          <button class=\"flex items-center justify-center w-full px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-opacity-50\">\r\n            <i class=\"fab fa-google mr-2\"></i>\r\n            Iniciar sesión con Google\r\n          </button>\r\n          <button class=\"flex items-center justify-center w-full px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50\">\r\n            <i class=\"fab fa-facebook mr-2\"></i>\r\n            Iniciar sesión con Facebook\r\n          </button>\r\n        </div> -->\r\n\r\n        \r\n        <router-link :to=\"{name: 'Register'}\" class=\"bg-sky-800 hover:bg-sky-800/80 text-white font-bold py-2 px-4 rounded w-8/12\">\r\n          Registrarse\r\n        </router-link>\r\n      </div>\r\n\r\n    </section>\r\n  </MainLayout>\r\n</template>\r\n\r\n<script setup>\r\nimport MainLayout from '@/layouts/MainLayout.vue'\r\nimport { ref/* ,onBeforeMount */ } from \"vue\";\r\nimport {useAuthStore} from \"@/store/authStore\"\r\nimport Swal from 'sweetalert2';\r\nimport router from '@/router';\r\n\r\nconst authStore = useAuthStore();\r\nlet showpass = ref(false)\r\n\r\nconst formLogin = ref({\r\n  username: '',\r\n  password: '',\r\n});\r\n\r\nconst sendRequest = async () => {\r\n  try {\r\n    let passwordEncrypted = authStore.encryptPass(formLogin.value.password)\r\n    let login = await authStore.login({ email: formLogin.value.username, password: passwordEncrypted});\r\n    \r\n    if(login)\r\n      router.push({ name: 'Dashboard'})\r\n    else\r\n      return Swal.fire({\r\n        title: 'Error',\r\n        text: `Usuario o password incorrectos`,\r\n        icon: 'error',\r\n        confirmButtonColor: '#3085d6',                            \r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    return Swal.fire({\r\n        title: 'Error',\r\n        text: `Algo salio mal recarge la pagina e intentelo más tarde`,\r\n        icon: 'error',\r\n        confirmButtonColor: '#3085d6',                            \r\n      })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.input_form {\r\n  @apply flex w-full border border-gray-300 rounded-lg px-5 py-2 placeholder-gray-400 text-sky-800\r\n  focus:ring-1 focus:border-sky-600 focus:outline-none;\r\n}\r\n</style>","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=0e1203b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0e1203b4\"]])\n\nexport default __exports__"],"names":["authStore","useAuthStore","showpass","ref","formLogin","username","password","sendRequest","async","passwordEncrypted","encryptPass","value","login","email","Swal","title","text","icon","confirmButtonColor","router","push","name","error","console","log","__exports__"],"sourceRoot":""}