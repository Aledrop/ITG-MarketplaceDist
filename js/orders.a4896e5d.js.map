{"version":3,"file":"js/orders.a4896e5d.js","mappings":"6LAIA,MAAMA,GAAYC,EAAAA,EAAAA,KACZC,GAASC,EAAAA,EAAAA,MAEFC,EAAiB,CAG1BC,kBAGQL,EAAUM,UAAUJ,EAAOK,KAAK,CAACC,KAAM,UAG3C,IAAIC,EAAU,CACVC,IAAM,oBACNC,MAAOX,EAAUW,OAGrB,IACI,IAAIC,QAAYC,EAAAA,EAAWC,QAAQL,GACnC,IAAIG,EAAK,KAAM,CAACG,IAAK,yCAAyCC,MAAOJ,GAErE,OAAOA,CAEX,CAAE,MAAOI,GACL,IAAIC,EAAgB,SAAQD,EAAME,UAAUC,WAAWH,EAAME,UAAUE,oBAAoBX,EAAQC,uBAAuBW,KAAKC,UAAUN,EAAME,UAAUK,QACzJ,MAAM,IAAIC,MAAMP,EACpB,CACJ,EAEAZ,aAAakB,GAELvB,EAAUW,OAAOX,EAAUyB,WAE/B,IAAIhB,EAAU,CACVC,IAAM,kBACNC,MAAOX,EAAUW,MACjBe,OAAQ,OACRH,KAAM,CAACA,SAEXI,QAAQC,IAAInB,GACZ,IAEI,IAAIG,QAAYC,EAAAA,EAAWC,QAAQL,GACnC,IAAIG,EAAK,KAAM,CAACG,IAAK,sCAAsCC,MAAOJ,GAElE,OAAOA,CAEX,CAAE,MAAOI,GACL,IAAIC,EAAgB,SAAQD,EAAME,UAAUC,WAAWH,EAAME,UAAUE,oBAAoBX,EAAQC,uBAAuBW,KAAKC,UAAUN,EAAME,UAAUK,QACzJ,MAAM,IAAIC,MAAMP,EACpB,CACJ,E,mxCCeJU,QAAQC,IAAIC,EAAMC,MAElB,MAAMC,GAAWC,EAAAA,EAAAA,KAAI,G,oqDClErB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,uPCgBA,MAAMC,GAAWF,EAAAA,EAAAA,IAAI,I,OAErBG,EAAAA,EAAAA,KAAc9B,UACV,IAGI,GAFA6B,EAASE,YAAchC,EAAAA,EAAeiC,aAElCH,EAASE,MAAO,KAAM,CAACrB,IAAK,0CAEpC,CAAE,MAAOC,GAEL,OADAW,QAAQC,IAAIZ,GACLsB,IAAAA,KAAU,CACbC,MAAO,QACPC,KAAO,2CACPC,KAAM,QACNC,mBAAoB,WAE5B,K,4SCrCJ,MAAM,EAAc,EAEpB,O","sources":["webpack://market/./src/services/booking.service.js","webpack://market/./src/components/OrdersListTemplate.vue","webpack://market/./src/components/OrdersListTemplate.vue?916e","webpack://market/./src/views/OrdersView.vue","webpack://market/./src/views/OrdersView.vue?e537"],"sourcesContent":["import { apiService } from \"@/services/api.service.js\";\r\nimport { useAuthStore } from \"@/store/authStore\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst authStore = useAuthStore();\r\nconst router = useRouter()\r\n\r\nexport const bookingService = {\r\n\r\n    // all by user\r\n    async allByUser() {\r\n        \r\n        // Si no esta logeado\r\n        if(!authStore.is_login) router.push({name: 'Login'})\r\n\r\n\r\n        let options = {\r\n            url: `/bookings/by-user`,\r\n            token: authStore.token, \r\n        }\r\n        \r\n        try {\r\n            let res = await apiService.request(options)\r\n            if(!res) throw {msg: 'Error en la solicitud de las allByUser',error: res};\r\n\r\n            return res;\r\n\r\n        } catch (error) {            \r\n            let errorMessage = `Error ${error.response?.status}: ${error.response?.statusText}\\nURL: ${options.url}\\nResponse data: ${JSON.stringify(error.response?.data)}`;\r\n            throw new Error(errorMessage);\r\n        }\r\n    },        \r\n\r\n    async create(data){\r\n\r\n        if(!authStore.token) authStore.getToken()\r\n        \r\n        let options = {\r\n            url: `/booking/create`,\r\n            token: authStore.token,\r\n            method: 'post',\r\n            data: {data}\r\n        }\r\n        console.log(options)\r\n        try {\r\n\r\n            let res = await apiService.request(options)\r\n            if(!res) throw {msg: 'Error en la solicitud de las create',error: res};\r\n\r\n            return res;\r\n\r\n        } catch (error) {            \r\n            let errorMessage = `Error ${error.response?.status}: ${error.response?.statusText}\\nURL: ${options.url}\\nResponse data: ${JSON.stringify(error.response?.data)}`;\r\n            throw new Error(errorMessage);\r\n        }\r\n    }\r\n  \r\n};","<template>\r\n    \r\n        <article class=\"flex justify-between rounded-lg border border-gray-300 p-5 w-full \">\r\n            \r\n            <section class=\"flex flex-col w-11/12 px-1\">\r\n                \r\n                <div class=\"flex justify-between w-full\">\r\n                    <!-- Orden -->\r\n                    <span class=\"uppercase text-lg md:text-2xl text-gray-800\" v-text=\"item.booking_number\"></span>\r\n                    <!-- Fecha -->\r\n                    <div class=\"flex flex-col mb-2\">\r\n                        <span class=\"uppercase text-sm md:text-base text-gray-800\" v-text=\"item.creation_date\"></span>\r\n                        <!-- <span class=\"uppercase text-[8px] md:text-xs text-gray-800\">08:30:58 am</span> -->\r\n                    </div>\r\n                </div>\r\n                \r\n                <section class=\"flex justify-between w-full\">\r\n                    <!-- Status -->\r\n                    <span class=\"uppercase text-xs md:text-base text-gray-800\" v-text=\"item.status.description\"></span>\r\n                    \r\n                    <!-- Price -->\r\n                    <div>$<span class=\"uppercase text-lg md:text-2xl text-gray-800\" v-text=\"item.import+20\"></span></div>\r\n                </section>\r\n\r\n                <!-- Detail -->\r\n                <section class=\"flex flex-col items-start mt-5\" v-show=\"isDetail\">\r\n                    \r\n                    <span class=\"text-sm md:text-lg\">Lista de productos</span>\r\n                    <hr class=\"w-full my-2\" style=\"dashed\">\r\n                    <ul class=\"flex flex-col items-start w-full\">\r\n                        <li class=\"flex w-full justify-between items-center gap-5 py-2\" \r\n                            v-for=\"(el, index) in item.bk_items\" :key=\"index\">\r\n                            <div>\r\n                                <span class=\"text-sm md:text-base\" v-text=\"el.cant\"></span>-\r\n                                <span class=\"text-sm md:text-base\" v-text=\"el.item\"></span>\r\n                            </div>\r\n                            <hr class=\"flex-grow m-2\">\r\n                            <div>$<span v-text=\"el.price\"></span>\r\n                            </div>\r\n                        </li>\r\n                        \r\n                        <hr class=\"w-full my-2\" style=\"dashed\">\r\n                    </ul>\r\n                    <div class=\"flex flex-col items-end w-full\">\r\n                        <span class=\"text-sm md:text-lg\">Subtotal - $<span class=\"text-sm md:text-lg\" v-text=\"item.import\"></span></span>\r\n                        <span class=\"text-sm md:text-lg\">Transportaci√≥n - $20.00</span>\r\n                        <span class=\"text-sm md:text-lg\" >Total - $<span class=\"text-sm md:text-lg\" v-text=\"item.import+20\"></span></span>\r\n                    </div>\r\n                    \r\n\r\n                </section>\r\n            </section>\r\n\r\n            \r\n            <div class=\"flex flex-col border-l pl-3 justify-between\">\r\n                <i class=\"fa fa-share\"></i>\r\n                <i class=\"flex h-full items-end\"  :class=\"{'fa fa-chevron-down':!isDetail,'fa fa-chevron-up':isDetail}\" @click=\"isDetail=!isDetail\"></i>\r\n            </div>\r\n            \r\n        </article>        \r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { ref,defineProps } from 'vue'\r\n\r\nconst props = defineProps({\r\n  item: Object\r\n})\r\n\r\nconsole.log(props.item)\r\n\r\nconst isDetail = ref(false)\r\n\r\n/* const openDetail = () => {\r\n    isDetail.value = true\r\n} */\r\n</script>\r\n<style scoped>\r\n.line::before {\r\n    content: '';\r\n    border-top: 1px dotted black;\r\n    flex-grow: 1;\r\n    /*margin: auto;*/\r\n  }\r\n</style>","import script from \"./OrdersListTemplate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersListTemplate.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersListTemplate.vue?vue&type=style&index=0&id=267638b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-267638b0\"]])\n\nexport default __exports__","<template>\r\n    <MainLayout>\r\n        <div v-if=\"!bookings.length === 0\" class=\"flex w-full gap-5\">\r\n            <div class=\"flex m-auto\">No hay pedidos</div>            \r\n        </div>\r\n        <div v-else class=\"flex w-full gap-5\">\r\n            <div class=\"flex flex-col gap-5 w-full\">\r\n                <OrdersListTemplate \r\n                    v-for=\"(booking, index) in bookings\" :key=\"index\"\r\n                    :item=\"booking\"/>\r\n                <!-- <OrdersListTemplate :item=\"orders\"/> -->\r\n            </div>\r\n        </div>\r\n    </MainLayout>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport MainLayout from '@/layouts/MainLayout.vue'\r\nimport OrdersListTemplate from '@/components/OrdersListTemplate.vue'\r\nimport { bookingService } from '@/services/booking.service';\r\nimport {ref,onBeforeMount} from 'vue';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst bookings = ref([])\r\n\r\nonBeforeMount(async () => {\r\n    try {\r\n        bookings.value = await bookingService.allByUser()\r\n\r\n        if(!bookings.value) throw {msg: 'Error en cargar el historial de ordenes'}        \r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n        return Swal.fire({\r\n            title: 'Error',\r\n            text: `Error al cargar los datos de las ordenes`,\r\n            icon: 'error',\r\n            confirmButtonColor: '#3085d6',                            \r\n        })\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import script from \"./OrdersView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["authStore","useAuthStore","router","useRouter","bookingService","async","is_login","push","name","options","url","token","res","apiService","request","msg","error","errorMessage","response","status","statusText","JSON","stringify","data","Error","getToken","method","console","log","props","item","isDetail","ref","__exports__","bookings","onBeforeMount","value","allByUser","Swal","title","text","icon","confirmButtonColor"],"sourceRoot":""}