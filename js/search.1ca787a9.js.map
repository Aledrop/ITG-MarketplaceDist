{"version":3,"file":"js/search.1ca787a9.js","mappings":"mVAcMA,GAAOC,EAAAA,EAAAA,KACPC,GAAiBC,EAAAA,EAAAA,KAAI,GAKrBC,EAAgBA,KACpBC,IACAL,EAAKM,WAAWC,EAAMC,MACtBC,EAAM,UAAU,EAEZC,EAAiBA,KACrBL,IACAL,EAAKW,cAAcJ,EAAMC,MACzBC,EAAM,UAAU,EAGZJ,EAAgBA,KAClBH,EAAeU,OAAQ,EACvBC,YAAW,KACPX,EAAeU,OAAQ,CAAK,GAC9B,IAAI,EAGJE,GAAQC,EAAAA,EAAAA,KAAS,KACrB,MAAMC,EAAUhB,EAAKiB,MAAMC,MAAKF,GAAWA,EAAQG,KAAOZ,EAAMC,KAAKW,KACrE,OAAOH,EAAUA,EAAQF,MAAQ,CAAC,I,qWCrCpC,MAAMM,EAAc,EAEpB,O,skBCsBMC,GAASC,EAAAA,EAAAA,MACTC,GAAOtB,EAAAA,EAAAA,KAMPG,EAAgBA,IAAMmB,EAAKjB,WAAWC,EAAMC,MAE5CgB,EAAoBA,KACxBH,EAAOI,KAAK,CAAEC,KAAM,gBAAiBC,OAAQ,CAAEC,QAASrB,EAAMC,KAAKoB,UAAY,EAG3EC,EAAiBA,KACnBzB,IACAiB,EAAOI,KAAK,CAAEC,KAAM,gBAAgB,E,0jBCvCxC,MAAMN,EAAc,EAEpB,O,spBCoCA,MAAMU,GAAU3B,EAAAA,EAAAA,KAAI,GACd4B,GAAQC,EAAAA,EAAAA,MACRC,GAASlB,EAAAA,EAAAA,KAAS,IAAMgB,EAAMJ,OAAOC,UACrCM,GAAcC,EAAAA,EAAAA,KACpB,IAAIC,GAAQjC,EAAAA,EAAAA,KAAI,GACZkC,GAAelC,EAAAA,EAAAA,IAAI,8DAEvBmC,EAAAA,EAAAA,IAAML,GAAS,KACXH,EAAQlB,OAAQ,EAChB2B,GAAS,IAKb,MAAMC,GAAUrC,EAAAA,EAAAA,IAAI,IAEdoC,EAAUE,UACZ,IAEI,GADAD,EAAQ5B,YAAcsB,EAAYQ,aAC9BF,EAAQ5B,MAER,MADAwB,EAAMxB,OAAQ,EACR,CAAC+B,IAAK,uBAAuBP,MAAMI,EAAQ5B,OAGrDkB,EAAQlB,OAAQ,CAEpB,CAAE,MAAOwB,GAEL,OADAQ,QAAQC,IAAIT,GACLU,IAAAA,KAAU,CACbC,MAAO,QACPC,KAAO,4BACPC,KAAM,QACNC,mBAAoB,WAE5B,G,OAGJC,EAAAA,EAAAA,KAAcV,gBACJF,GAAS,I,kqBC5EnB,MAAMnB,EAAc,EAEpB,O","sources":["webpack://market/./src/components/BtnAddLess.vue","webpack://market/./src/components/BtnAddLess.vue?11fb","webpack://market/./src/components/CardListTemplate.vue","webpack://market/./src/components/CardListTemplate.vue?0496","webpack://market/./src/views/SearchResultView.vue","webpack://market/./src/views/SearchResultView.vue?c32a"],"sourcesContent":["<template>\r\n    <div class=\"flex items-center justify-between rounded-lg\">\r\n        <button class=\"rounded-l-lg bg-gray-300 w-8\" @click=\"lessCarToStore()\">-</button>\r\n        <div class=\"w-8 text-gray-800\" :class=\"{'scale-150 transition-transform animate-spin': animationPrice}\">{{ count }}</div>\r\n        <button class=\"rounded-r-lg bg-gray-300 w-8\" @click=\"addCarToStore()\">+</button>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { useCartStore } from '@/store/cartStore'\r\nimport { ref,defineProps,defineEmits,computed } from 'vue'\r\n\r\nconst emits = defineEmits(['updCart'])\r\nconst shop = useCartStore()\r\nconst animationPrice = ref(false)\r\nconst props = defineProps({\r\n  item: Object\r\n})\r\n\r\nconst addCarToStore = () => {\r\n  handleUpdCart()\r\n  shop.addProduct(props.item)\r\n  emits('updCart')\r\n}\r\nconst lessCarToStore = () => {\r\n  handleUpdCart()\r\n  shop.removeProduct(props.item)\r\n  emits('updCart')\r\n}\r\n\r\nconst handleUpdCart = () => {\r\n    animationPrice.value = true\r\n    setTimeout(()=>{\r\n        animationPrice.value = false\r\n    },500)\r\n}\r\n\r\nconst count = computed(() => {\r\n  const product = shop.prods.find(product => product.id === props.item.id)\r\n  return product ? product.count : 0\r\n})\r\n</script>","import script from \"./BtnAddLess.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BtnAddLess.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <section class=\"border border-gray-300 flex flex-col rounded-lg items-center w-60\">\r\n        <article class=\"\" >\r\n            <figure class=\"flex items-center w-60 h-52 px-1 bg-cover overflow-hidden border-b border-gray-300\">\r\n                <img :src=\"props.item.src\" alt=\"\" class=\" bg-slate-400 \">\r\n            </figure>\r\n            <figcaption class=\"flex flex-col \">\r\n                <h4 class=\"text-gray-800 text-base my-2 hover:cursor-pointer\" @click=\"navigateToProduct\">{{ props.item.alias}}</h4>                \r\n            </figcaption>\r\n        </article>\r\n        <div class=\"block w-full py-2\">\r\n            <div class=\"flex w-full justify-end pr-8\"><h4 class=\"text-sky-800 text-lg\">${{ props.item.price}}</h4></div>\r\n            <div class=\"flex px-2 gap-4 justify-between w-full\">\r\n                <btn-add-less :item=\"props.item\"/>\r\n                <button class=\"bg-amber-400 px-5 py-2 rounded-lg text-gray-800\" @click=\"navigateToCart()\">Añadir</button>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport BtnAddLess from './BtnAddLess'\r\nimport { defineProps } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useCartStore } from '@/store/cartStore'\r\n\r\nconst router = useRouter()\r\nconst cart = useCartStore()\r\n\r\nconst props = defineProps({\r\n  item: Object\r\n})\r\n\r\nconst addCarToStore = () => cart.addProduct(props.item)\r\n\r\nconst navigateToProduct = () => {\r\n  router.push({ name: 'ProductDetail', params: { keyword: props.item.keyword } })\r\n}\r\n\r\nconst navigateToCart = () => {\r\n    addCarToStore()\r\n    router.push({ name: 'ShoppingCart'})\r\n}\r\n\r\n\r\n</script>\r\n","import script from \"./CardListTemplate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CardListTemplate.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <MainLayout>\r\n        \r\n        <section class=\"flex gap-5 flex-row\">\r\n        <!-- <section class=\"flex md:relative gap-10 flex-col md:flex-row\"> -->\r\n            <!-- Panel Lateral -->\r\n            <!-- <FilterTemplate @updFilter=\"applyFiler\"/> -->\r\n            \r\n            <!-- Resultado de Búsquedas -->                        \r\n            <figure v-show=\"loading\" class=\"m-auto\"><img src=\"@/assets/images/loader.svg\" alt=\"loading...\"></figure>\r\n\r\n            <section class=\"flex flex-col flex-1 gap-8\" v-show=\"!loading\">\r\n                <div class=\"flex bg-red-500 m-auto p-20 rounded-lg\" v-show=\"error\">\r\n                    <span class=\"text-lg text-white\" v-text=\"errorMessage\"></span>\r\n                </div>\r\n                <h3 class=\"text-sky-800 text-2xl\" v-if=\"search\">Resultado de búsqueda para {{ search }}</h3>\r\n                <!-- <div class=\"flex justify-end\"><select class=\"w-24\"><option value=\"\">precio</option><option value=\"\">más populares</option></select></div> -->\r\n                <section class=\"flex flex-wrap gap-5 justify-items-center\" v-if=\"results.length>0\">                    \r\n                    <CardListTemplate  v-for=\"(item, index) in results\" :key=\"index\" :item=\"item\" class=\"\"/>                    \r\n                </section>\r\n                <section class=\"flex mx-auto p-20\" v-else>\r\n                    <span class=\"text-lg\">No hay productos para esta búsqueda</span>\r\n                </section>\r\n            </section>\r\n\r\n        </section>\r\n        \r\n    </MainLayout>\r\n</template>\r\n\r\n<script setup>\r\n\r\n\r\nimport MainLayout from '@/layouts/MainLayout.vue'\r\nimport CardListTemplate from '@/components/CardListTemplate.vue'\r\n// import FilterTemplate from '@/components/FilterTemplate.vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { ref,computed,onBeforeMount,watch } from 'vue'\r\nimport { useSearchStore } from '@/store/searchStore'\r\nimport Swal from 'sweetalert2';\r\n\r\nconst loading = ref(true)\r\nconst route = useRoute()\r\nconst search = computed(() => route.params.keyword)\r\nconst searchStore = useSearchStore()\r\nlet error = ref(false)\r\nlet errorMessage = ref('Error al consultar los datos, por favor intente más tarde')\r\n\r\nwatch(search,  () => {\r\n    loading.value = true\r\n    getData()    \r\n})\r\n\r\n\r\n\r\nconst results = ref([]);\r\n\r\nconst getData = async () => {\r\n    try {\r\n        results.value = await searchStore.getSearch()\r\n        if(!results.value){\r\n            error.value = true\r\n            throw {msg: 'Error en la búsqueda',error:results.value}\r\n        }    \r\n\r\n        loading.value = false\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n        return Swal.fire({\r\n            title: 'Error',\r\n            text: `Error al cargar los datos`,\r\n            icon: 'error',\r\n            confirmButtonColor: '#3085d6',                            \r\n        })\r\n    }    \r\n}\r\n\r\nonBeforeMount(async () => {\r\n    await getData()\r\n})\r\n\r\n\r\n\r\n// const applyFiler = () => {\r\n//     alert('filtro aplicado')\r\n// }\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>","import script from \"./SearchResultView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SearchResultView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["shop","useCartStore","animationPrice","ref","addCarToStore","handleUpdCart","addProduct","props","item","emits","lessCarToStore","removeProduct","value","setTimeout","count","computed","product","prods","find","id","__exports__","router","useRouter","cart","navigateToProduct","push","name","params","keyword","navigateToCart","loading","route","useRoute","search","searchStore","useSearchStore","error","errorMessage","watch","getData","results","async","getSearch","msg","console","log","Swal","title","text","icon","confirmButtonColor","onBeforeMount"],"sourceRoot":""}